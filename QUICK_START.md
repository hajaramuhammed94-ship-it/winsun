# ğŸš€ Winsun å¿«é€Ÿå¯åŠ¨æŒ‡å—

è¿™æ˜¯ä¸€ä¸ª5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨æŒ‡å—ï¼Œå¸®åŠ©æ‚¨ç«‹å³è¿è¡ŒWinsuné¡¹ç›®ã€‚

---

## âš¡ è¶…å¿«é€Ÿå¯åŠ¨ï¼ˆ3æ­¥ï¼‰

å¦‚æœæ‚¨å·²ç»å®‰è£…äº†Node.jså’ŒPostgreSQLï¼š

```bash
# 1. å®‰è£…ä¾èµ–
./install.sh

# 2. åˆ›å»ºæ•°æ®åº“å¹¶åˆå§‹åŒ–
createdb winsun_db
cd backend && npm run db:migrate && cd ..

# 3. å¯åŠ¨é¡¹ç›®
./start.sh
```

ç„¶åè®¿é—® http://localhost:8080 ğŸ‰

---

## ğŸ“‹ è¯¦ç»†æ­¥éª¤

### å‰ç½®è¦æ±‚æ£€æŸ¥

ç¡®ä¿æ‚¨å·²å®‰è£…ï¼š
- âœ… Node.js (>= 14.x)
- âœ… PostgreSQL (>= 12.x)
- âœ… npm æˆ– yarn

**æ£€æŸ¥å‘½ä»¤ï¼š**
```bash
node -v    # åº”æ˜¾ç¤º v14.x æˆ–æ›´é«˜
npm -v     # åº”æ˜¾ç¤ºç‰ˆæœ¬å·
psql --version  # åº”æ˜¾ç¤º PostgreSQL ç‰ˆæœ¬
```

---

### æ­¥éª¤ 1: å…‹éš†/ä¸‹è½½é¡¹ç›®

å¦‚æœæ‚¨è¿˜æ²¡æœ‰é¡¹ç›®æ–‡ä»¶ï¼š
```bash
cd /home/jzy/æ¡Œé¢/é‡åŒ–/winsun-clone
```

---

### æ­¥éª¤ 2: å®‰è£…ä¾èµ–

è¿è¡Œè‡ªåŠ¨å®‰è£…è„šæœ¬ï¼š
```bash
./install.sh
```

æˆ–æ‰‹åŠ¨å®‰è£…ï¼š
```bash
# å®‰è£…åç«¯ä¾èµ–
cd backend
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install

cd ..
```

---

### æ­¥éª¤ 3: é…ç½®æ•°æ®åº“

#### 3.1 åˆ›å»ºæ•°æ®åº“

**æ–¹æ³•1 - ä½¿ç”¨å‘½ä»¤è¡Œï¼š**
```bash
createdb winsun_db
```

**æ–¹æ³•2 - ä½¿ç”¨psqlï¼š**
```bash
psql -U postgres
CREATE DATABASE winsun_db;
\q
```

#### 3.2 é…ç½®æ•°æ®åº“è¿æ¥

ç¼–è¾‘ `backend/.env` æ–‡ä»¶ï¼š
```bash
nano backend/.env
```

ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼š
```env
DB_HOST=localhost
DB_PORT=5432
DB_NAME=winsun_db
DB_USER=postgres
DB_PASSWORD=your_password  # æ”¹æˆæ‚¨çš„PostgreSQLå¯†ç 
```

#### 3.3 åˆå§‹åŒ–æ•°æ®åº“

```bash
cd backend
npm run db:migrate
cd ..
```

æ‚¨åº”è¯¥çœ‹åˆ°ï¼š
```
âœ… æ•°æ®åº“è¡¨åˆ›å»ºæˆåŠŸï¼
âœ… ç§å­æ•°æ®å¡«å……æˆåŠŸï¼
ğŸ‰ æ•°æ®åº“è¿ç§»å®Œæˆï¼
```

---

### æ­¥éª¤ 4: å¯åŠ¨æœåŠ¡

#### æ–¹æ³•1 - ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
./start.sh
```

#### æ–¹æ³•2 - æ‰‹åŠ¨å¯åŠ¨

**ç»ˆç«¯1 - å¯åŠ¨åç«¯ï¼š**
```bash
cd backend
npm run dev
```

**ç»ˆç«¯2 - å¯åŠ¨å‰ç«¯ï¼š**
```bash
cd frontend
npm start
```

---

### æ­¥éª¤ 5: è®¿é—®ç½‘ç«™

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š

- **ä¸­æ–‡é¦–é¡µ**: http://localhost:8080/
- **è‹±æ–‡é¦–é¡µ**: http://localhost:8080/en
- **ç™»å½•é¡µé¢**: http://localhost:8080/client/login.html
- **æ³¨å†Œé¡µé¢**: http://localhost:8080/client/register.html
- **APIå¥åº·æ£€æŸ¥**: http://localhost:5000/api/health

---

## ğŸ§ª æµ‹è¯•åŠŸèƒ½

### 1. æµ‹è¯•API

è¿è¡ŒAPIæµ‹è¯•è„šæœ¬ï¼š
```bash
./test-api.sh
```

### 2. æµ‹è¯•ç”¨æˆ·æ³¨å†Œ

1. è®¿é—® http://localhost:8080/client/register.html
2. å¡«å†™æ³¨å†Œè¡¨å•ï¼š
   - é‚®ç®±: test@example.com
   - å¯†ç : 123456
3. ç‚¹å‡»æ³¨å†Œ
4. åº”è¯¥çœ‹åˆ°"æ³¨å†ŒæˆåŠŸ"æç¤º

### 3. æµ‹è¯•ç”¨æˆ·ç™»å½•

1. è®¿é—® http://localhost:8080/client/login.html
2. ä½¿ç”¨åˆšæ‰æ³¨å†Œçš„è´¦å·ç™»å½•
3. åº”è¯¥çœ‹åˆ°"ç™»å½•æˆåŠŸ"æç¤ºå¹¶è·³è½¬

### 4. æµ‹è¯•Newsletterè®¢é˜…

1. åœ¨é¦–é¡µåº•éƒ¨æ‰¾åˆ°Newsletterè®¢é˜…è¡¨å•
2. è¾“å…¥é‚®ç®±åœ°å€
3. ç‚¹å‡»"subscribe"
4. åº”è¯¥çœ‹åˆ°"è®¢é˜…æˆåŠŸ"æç¤º

---

## ğŸ›‘ åœæ­¢æœåŠ¡

```bash
./stop.sh
```

æˆ–æ‰‹åŠ¨åœæ­¢ï¼š
```bash
# æŸ¥æ‰¾è¿›ç¨‹
ps aux | grep node

# åœæ­¢è¿›ç¨‹
kill <PID>
```

---

## ğŸ” æ•…éšœæ’é™¤

### é—®é¢˜1: ç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**: `Error: listen EADDRINUSE: address already in use :::5000`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :5000
lsof -i :8080

# åœæ­¢è¿›ç¨‹
kill -9 <PID>
```

æˆ–ä¿®æ”¹ç«¯å£ï¼š
```bash
# ä¿®æ”¹åç«¯ç«¯å£
nano backend/.env
# å°† PORT=5000 æ”¹ä¸º PORT=5001

# ä¿®æ”¹å‰ç«¯ç«¯å£
nano frontend/server.js
# å°† PORT = 8080 æ”¹ä¸º 8081
```

---

### é—®é¢˜2: æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**: `Error: connect ECONNREFUSED 127.0.0.1:5432`

**è§£å†³æ–¹æ¡ˆ**:

1. ç¡®ä¿PostgreSQLæ­£åœ¨è¿è¡Œï¼š
```bash
# Ubuntu/Debian
sudo systemctl status postgresql
sudo systemctl start postgresql

# macOS
brew services start postgresql

# Windows
# åœ¨æœåŠ¡ç®¡ç†å™¨ä¸­å¯åŠ¨PostgreSQLæœåŠ¡
```

2. æ£€æŸ¥æ•°æ®åº“é…ç½®ï¼š
```bash
psql -U postgres -d winsun_db
# å¦‚æœèƒ½è¿æ¥ï¼Œè¯´æ˜æ•°æ®åº“é…ç½®æ­£ç¡®
```

3. æ£€æŸ¥ `backend/.env` ä¸­çš„æ•°æ®åº“é…ç½®

---

### é—®é¢˜3: ä¾èµ–å®‰è£…å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:

1. æ¸…é™¤npmç¼“å­˜ï¼š
```bash
npm cache clean --force
```

2. åˆ é™¤node_modulesé‡æ–°å®‰è£…ï¼š
```bash
cd backend
rm -rf node_modules package-lock.json
npm install

cd ../frontend
rm -rf node_modules package-lock.json
npm install
```

3. ä½¿ç”¨æ·˜å®é•œåƒï¼ˆä¸­å›½ç”¨æˆ·ï¼‰ï¼š
```bash
npm config set registry https://registry.npmmirror.com
```

---

### é—®é¢˜4: é¡µé¢æ ·å¼é”™ä¹±

**è§£å†³æ–¹æ¡ˆ**:

1. æ£€æŸ¥é™æ€èµ„æºæ˜¯å¦å®Œæ•´ï¼š
```bash
ls -lh frontend/public/static/css/
ls -lh frontend/public/static/js/
```

2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼š
   - Chrome: Ctrl+Shift+Delete
   - Firefox: Ctrl+Shift+Delete

3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰404é”™è¯¯

---

## ğŸ“Š æŸ¥çœ‹æ—¥å¿—

å¦‚æœä½¿ç”¨ `./start.sh` å¯åŠ¨ï¼Œæ—¥å¿—æ–‡ä»¶ä½äºï¼š

```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f logs/backend.log

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
tail -f logs/frontend.log

# åŒæ—¶æŸ¥çœ‹ä¸¤ä¸ªæ—¥å¿—
tail -f logs/*.log
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

é¡¹ç›®å¯åŠ¨æˆåŠŸåï¼Œæ‚¨å¯ä»¥ï¼š

1. **æµè§ˆåŠŸèƒ½**
   - æŸ¥çœ‹é¦–é¡µå„ä¸ªåŒºå—
   - æµ‹è¯•ç”¨æˆ·æ³¨å†Œ/ç™»å½•
   - è®¢é˜…Newsletter
   - æŸ¥çœ‹å®šä»·æ–¹æ¡ˆ

2. **å¼€å‘æ–°åŠŸèƒ½**
   - æŸ¥çœ‹ `TECHNICAL_ANALYSIS.md` äº†è§£æŠ€æœ¯æ¶æ„
   - æŸ¥çœ‹ `PROJECT_STATUS.md` äº†è§£é¡¹ç›®çŠ¶æ€
   - é˜…è¯» `README.md` äº†è§£APIæ–‡æ¡£

3. **è‡ªå®šä¹‰é…ç½®**
   - ä¿®æ”¹æ ·å¼æ–‡ä»¶
   - æ·»åŠ æ–°çš„APIç«¯ç‚¹
   - æ‰©å±•æ•°æ®åº“è¡¨

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ `README.md` å®Œæ•´æ–‡æ¡£
2. è¿è¡Œ `./test-api.sh` æµ‹è¯•API
3. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ `logs/`
4. æ£€æŸ¥æ•°æ®åº“è¿æ¥
5. æäº¤GitHub Issue

---

## âœ… æˆåŠŸæ ‡å¿—

å¦‚æœæ‚¨çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸï¼š

**åç«¯å¯åŠ¨æˆåŠŸï¼š**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸš€ Winsun API Server Started       â•‘
â•‘   ğŸ“¡ Port: 5000                      â•‘
â•‘   ğŸŒ Environment: development        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ
```

**å‰ç«¯å¯åŠ¨æˆåŠŸï¼š**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸŒ Winsun Frontend Server          â•‘
â•‘   ğŸ“¡ Port: 8080                      â•‘
â•‘   ğŸ”— URL: http://localhost:8080     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**æµè§ˆå™¨è®¿é—®æˆåŠŸï¼š**
- é¡µé¢æ­£å¸¸æ˜¾ç¤º
- æ ·å¼å®Œæ•´
- åŠ¨ç”»æµç•…
- æ— æ§åˆ¶å°é”™è¯¯

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒå®Œæ•´æ–‡æ¡£æˆ–æäº¤Issueã€‚

